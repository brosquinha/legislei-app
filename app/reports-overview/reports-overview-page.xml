<Page class="Page" loaded="onPageLoaded">
    <ActionBar title="Seus relatÃ³rios do perÃ­odo" class="action-bar">
        <NavigationButton text="Back" android.systemIcon="ic_menu_back"  tap="goBackTo"/>
    </ActionBar>

    <StackLayout>
        <ListView row="0" items="{{ reports }}">
            <ListView.itemTemplate>
                <GridLayout columns="2*, *" margin="3">
                    <StackLayout col="0">
                        <Label class="m-l-5 h2" text="{{ parlamentar.nome + ' (' + parlamentar.partido +')' }}" />
                        <Label class="m-l-15" text="NÃ£o foi possÃ­vel obter relatÃ³rio desse parlamentar ðŸ˜£" visibility="{{ (_id == null) ? 'visible' : 'collapsed' }}" />
                        <Label class="m-l-15" text="{{ 'Fez ' + proposicoes + ' proposiÃ§Ãµes' }}" visibility="{{ (_id == null) ? 'collapsed' : 'visible' }}" />
                        <Label class="m-l-15" text="{{ 'Compareceu a ' + eventosPresentes + ' eventos' }}" visibility="{{ (_id == null) ? 'collapsed' : 'visible' }}" />
                        <Label class="m-l-15" text="{{ 'Ausentou-se de ' + eventosPrevistos + ' eventos previstos' }}" visibility="{{ (_id == null) ? 'collapsed' : 'visible' }}" />
                        <Button
                            class="btn btn-primary btn-active"
                            text="Ver relatÃ³rio"
                            data-id="{{ _id }}"
                            visibility="{{ (_id == null) ? 'collapsed' : 'visible' }}"
                            onTap="goToReportPage" />
                    </StackLayout>
                    <Image col="1" src="{{ parlamentar.foto }}" height="200" stretch="aspectFit" loadMode="async" />
                </GridLayout>
            </ListView.itemTemplate>
        </ListView>
    </StackLayout>
</Page>